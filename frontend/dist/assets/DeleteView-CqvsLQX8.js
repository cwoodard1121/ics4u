import{_ as y,A as S,i as h,s as D,j as L,k as c,c as l,a as e,e as T,f as v,q as u,F as _,n as g,g as V,o as n,t as w}from"./index-DXyJi94Y.js";const i="http://localhost:3000",k={setup(){let d=localStorage.getItem("token");d=S.decodeToken(d),console.log(d.role);let o=h(),f=h(),a=h(),r=h({whatTeam:"",teamIsSelected:!1}),m=h({whatLeague:"",whatTeam:"",whatEvent:""});D(async()=>r.value.whatTeam,async(s,b)=>{s&&(r.value.teamIsSelected=!0,a.value=(await c.get(`${i}/api/specificEvent/${r.value.whatTeam}`)).data)});async function t(){try{console.log("deleting league");const s=await c.delete(`${i}/api/deleteLeague`,{data:{whatLeague:m.value.whatLeague,role:d.role}});console.log(s.data),location.reload()}catch(s){console.error("Error fetching data:",s)}}async function E(){try{console.log("deleteing team...");const s=await c.delete(`${i}/api/deleteTeam`,{data:{whatTeam:m.value.whatTeam,role:d.role}});console.log(s.data),location.reload()}catch(s){console.error("Error fetching data:",s)}}async function p(){try{console.log("deleteing event...");const s=await c.delete(`${i}/api/deleteEvent`,{data:{whatEvent:m.value.whatEvent,role:d.role}});console.log(s.data),location.reload()}catch(s){console.error("Error fetching data:",s)}}return L(async()=>{try{const s=await c.get(`${i}/api/allteams`);o.value=s.data;const b=await c.get(`${i}/api/league`);f.value=b.data}catch(s){console.error("Error fetching data:",s)}}),{teamNames:o,leagueNames:f,whatToDelete:m,deleteLeague:t,deleteTeam:E,deleteEvent:p,teamSelectForEvent:r,eventsBasedOffTeam:a}}},N={class:"columns is-flex-direcction-column"},F={class:"column is-one-third"},x={class:"card"},B={class:"card-content"},C={class:"field"},I=e("label",{for:"email",class:"label"},"Choose League",-1),U={class:"select"},A=["value"],M=e("button",{type:"submit",class:"button"},"Delete League",-1),O={class:"column"},j={class:"card"},q={class:"card-content"},P={class:"field"},R=e("label",{for:"email",class:"label"},"Choose team to delete",-1),z={class:"select"},G=["value"],H=e("button",{type:"submit",class:"button"},"Delete Team",-1),J={class:"column"},K={class:"card"},Q={class:"card-content"},W={class:"field"},X=e("label",{for:"email",class:"label"},"Choose team for event",-1),Y={class:"select"},Z=["value"],$={class:"field"},ee={key:0},te=e("label",{for:"email",class:"label"},"Choose Event",-1),ae={class:"select"},oe=["value"],se=e("button",{type:"submit",class:"button"},"Delete Event",-1);function le(d,o,f,a,r,m){return n(),l("body",null,[e("div",N,[e("div",F,[e("div",x,[e("div",B,[e("form",{onSubmit:o[1]||(o[1]=T((...t)=>a.deleteLeague&&a.deleteLeague(...t),["prevent"]))},[e("div",C,[I,e("div",U,[v(e("select",{name:"leagues",id:"leagues","onUpdate:modelValue":o[0]||(o[0]=t=>a.whatToDelete.whatLeague=t)},[(n(!0),l(_,null,g(a.leagueNames,t=>(n(),l("option",{value:t},w(t),9,A))),256))],512),[[u,a.whatToDelete.whatLeague]])])]),M],32)])])]),e("div",O,[e("div",j,[e("div",q,[e("form",{onSubmit:o[3]||(o[3]=T((...t)=>a.deleteTeam&&a.deleteTeam(...t),["prevent"]))},[e("div",P,[R,e("div",z,[v(e("select",{name:"teams",id:"teams","onUpdate:modelValue":o[2]||(o[2]=t=>a.whatToDelete.whatTeam=t)},[(n(!0),l(_,null,g(a.teamNames,t=>(n(),l("option",{value:t},w(t),9,G))),256))],512),[[u,a.whatToDelete.whatTeam]])])]),H],32)])])]),e("div",J,[e("div",K,[e("div",Q,[e("form",{onSubmit:o[6]||(o[6]=T((...t)=>a.deleteEvent&&a.deleteEvent(...t),["prevent"]))},[e("div",W,[X,e("div",Y,[v(e("select",{name:"teams",id:"teams","onUpdate:modelValue":o[4]||(o[4]=t=>a.teamSelectForEvent.whatTeam=t)},[(n(!0),l(_,null,g(a.teamNames,t=>(n(),l("option",{value:t},w(t),9,Z))),256))],512),[[u,a.teamSelectForEvent.whatTeam]])])]),e("div",$,[a.teamSelectForEvent.teamIsSelected?(n(),l("div",ee,[te,e("div",ae,[v(e("select",{name:"events",id:"events","onUpdate:modelValue":o[5]||(o[5]=t=>a.whatToDelete.whatEvent=t)},[(n(!0),l(_,null,g(a.eventsBasedOffTeam,t=>(n(),l("option",{value:t},w(t),9,oe))),256))],512),[[u,a.whatToDelete.whatEvent]])])])):V("",!0)]),se],32)])])])])])}const de=y(k,[["render",le]]);export{de as default};
